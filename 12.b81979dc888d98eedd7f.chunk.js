webpackJsonp([12],{1425:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,c=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,o);else for(var f=e.length-1;f>=0;f--)(r=e[f])&&(c=(i<3?r(c):i>3?r(t,n,c):r(t,n))||c);return i>3&&c&&Object.defineProperty(t,n,c),c},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(0),c=n(12),f=n(10),a=n(338),s=n(1513),u=n(1632),l=function(){function e(){}return e=o([i.NgModule({imports:[c.CommonModule,f.ReactiveFormsModule,f.FormsModule,a.NgaModule,u.routing],declarations:[s.ConfirmEmail]}),r("design:paramtypes",[])],e)}();Object.defineProperty(t,"__esModule",{value:!0}),t.default=l},1513:function(e,t,n){"use strict";var o=this&&this.__decorate||function(e,t,n,o){var r,i=arguments.length,c=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,n,o);else for(var f=e.length-1;f>=0;f--)(r=e[f])&&(c=(i<3?r(c):i>3?r(t,n,c):r(t,n))||c);return i>3&&c&&Object.defineProperty(t,n,c),c},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},i=n(0),c=n(29),f=n(40),a=function(){function e(e,t,n){this.router=e,this.route=t,this.connector=n,this.confirmationMessage=null,this.confirmed=!1}return e.prototype.ngOnInit=function(){var e=this;this.route.params.subscribe(function(t){if(t.ticket){var n=t.ticket;e.loginByTicket(n).subscribe(function(n){if(t.unconfirmedUserId){var o=t.unconfirmedUserId;e.confirmUser(o)}},function(e){console.log(e)})}})},e.prototype.confirmUser=function(e){var t=this;this.connector.Execute("core","registration","confirmUser",e).subscribe(function(e){t.confirmed=e.result,t.confirmationMessage=e.message,t.loginNewUser()},function(e){t.confirmed=!1,t.confirmationMessage=e})},e.prototype.loginNewUser=function(){var e=this;this.connector.LogOut().subscribe(function(t){e.router.navigate(["login"])})},e.prototype.loginByTicket=function(e){var t={ticket:e,guiFramework:"BATS"};return this.connector.LogIn(t)},e=o([i.Component({selector:"confirm-email",encapsulation:i.ViewEncapsulation.None,styles:[n(1768)],template:n(1817)}),r("design:paramtypes",["function"==typeof(t="undefined"!=typeof c.Router&&c.Router)&&t||Object,"function"==typeof(a="undefined"!=typeof c.ActivatedRoute&&c.ActivatedRoute)&&a||Object,"function"==typeof(s="undefined"!=typeof f.ConnectorService&&f.ConnectorService)&&s||Object])],e);var t,a,s}();t.ConfirmEmail=a},1632:function(e,t,n){"use strict";var o=n(29),r=n(1513),i=[{path:"",component:r.ConfirmEmail}];t.routing=o.RouterModule.forChild(i)},1768:function(e,t){e.exports=""},1817:function(e,t){e.exports='<h1 *ngIf="!confirmationMessage">Confirmando usuario</h1>\r\n\r\n<div class="alert alert-success" *ngIf="confirmed" role="alert">\r\n    {{confirmationMessage}}\r\n</div>\r\n\r\n<div class="button-wrapper" *ngIf="confirmed">\r\n    <button class="btn btn-primary btn-raised" (click)="loginNewUser()">Continuar</button>  \r\n</div>\r\n\r\n<div class="alert alert-danger" *ngIf="!confirmed" role="alert">\r\n    <strong>Error</strong> {{confirmationMessage}}\r\n</div>\r\n'}});